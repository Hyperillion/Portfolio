<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects</title>
    <link rel="icon" type="image/x-icon" href="/assets/cur/AY.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&family=Smooch+Sans:wght@200;500;700&family=Yellowtail&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="assets/Family/font.css" rel="stylesheet" type="text/css">
    <link href="lightbox/dist/css/lightbox.css" rel="stylesheet" />
    <link href="//unpkg.com/layui@2.9.16/dist/css/layui.css" rel="stylesheet">
    <style>
        .lightbox {
            width: 100%;
            overflow-x: scroll;
        }

        .item button:hover {
            text-decoration: none;
            cursor: pointer;
            color: #000000;
        }

        .item button:hover .description {
            text-decoration: underline;
            text-decoration-thickness: 1px;
            /* color: #000000; */
            /* background-color: #f0f0f0; */
            cursor: pointer;
        }

        .item button:hover .contentTitle {
            color: #f0f0f0;
            text-shadow:
                0 0 10px #f0f0f0,
                0 0 20px #f0f0f0;
            cursor: pointer;
        }

        #image-display {
            position: fixed;
            margin: 5%;
            /* transform: translateY(-10%); */
            max-width: 60%;
            max-height: 30%;
            height: auto;
            z-index: 1000;
        }

        #right-image {
            width: 100%;
            height: auto;
            display: none;
        }

        #project_description {
            position: fixed;
            right: 0;
            top: 0;
            width: 50%;
            height: 100%;
            background-color: #f0f0f0;
            z-index: 1000;
            overflow-y: scroll;
            padding: 5%;
        }

        .detail {
            display: none;
        }

        .showPopup {
            display: block;
            position: relative;
            width: 100%;
            height: 100%;
            background-color: transparent;
            border: none;
            text-align: left;
        }

        .layui-layer {
            background: rgba(5, 5, 5, 0.9);

        }
    </style>
</head>

<body>
    <div class="shell" id="shell">
        <div class="header">
            <h1 class="title"><span>Highlight</span></h1>
            <h1 class="title">Projects</h1>
        </div>
        <div class="timeline">
            <div class="item" data-text="July 2024">
                <button class="showPopup" onclick="displayPopup('./ProjectPages/gaudi-vision.html')">
                    <div class="content">
                        <img src="assets/pics/projects/gaudi-vision/gaudi-vision.jpg" alt="" class="img">
                        <h2 class="contentTitle">Gaudi Vision</h2>
                        <p class="description">AIGC redrawing system to transform user-uploaded images into stunning
                            Gaudi-style architectural pieces</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="May 2024">
                <button class="showPopup" onclick="displayPopup('./ProjectPages/seen.html')">
                    <div class="content">
                        <img src="assets/pics/projects/seen/seen.jpg" alt="" class="img">
                        <h2 class="contentTitle">SEE(N)</h2>
                        <p class="description">AIGC redrawing system to transform user-uploaded images into stunning
                            Gaudi-style architectural pieces</p>
                    </div>
                </button>
            </div>

            <div class="item" data-text="March 2024">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/unblinking/unblinking.jpg" alt="" class="img">
                        <h2 class="contentTitle">Unblinking</h2>
                        <p class="description">AIGC redrawing system to transform user-uploaded images into stunning
                            Gaudi-style architectural pieces</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="May 2023">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/beyondInkwash/beyondInkwash.png" alt="" class="img">
                        <h2 class="contentTitle">Beyond the Ink-wash</h2>
                        <p class="description">An Interactive and Generative Project that draw real-time Ink-wash
                            Paintings</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="February 2023">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/galaxy/galaxy.png" alt="" class="img">
                        <h2 class="contentTitle">Galaxy</h2>
                        <p class="description">An interactive coding practise about gravity simulation environment</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="December 2022">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/cureMonster/curemonster.png" alt="" class="img">
                        <h2 class="contentTitle">Cure Monster</h2>
                        <p class="description">A social robot provides emotional and physical company to users</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="October 2022">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/unusualAgent/unusualAgent.jpg" alt="" class="img">
                        <h2 class="contentTitle">Unusual Agent</h2>
                        <p class="description">A legal education film about the unauthorized use of the official seal
                        </p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="June 2022">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/antidote/antidote.jpg" alt="" class="img">
                        <h2 class="contentTitle">Antidote</h2>
                        <p class="description">A short drama film about the distortion of human nature under the
                            pandemic
                        </p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="May 2022">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/imaging/imaging.png" alt="" class="img">
                        <h2 class="contentTitle">Imaging</h2>
                        <p class="description">A web based photography simulation project</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="April 2022">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/life/LIFE.png" alt="" class="img">
                        <h2 class="contentTitle">LIFE: From small To Big</h2>
                        <p class="description">An interactive coding artwork that presents the whole procedure of the
                            life
                            of cells</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="February 2022">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/webSketchpad/sketchpad.jpg" alt="" class="img">
                        <h2 class="contentTitle">Web Sketchpad</h2>
                        <p class="description">An online sketchpad with several basic functions</p>
                    </div>
                </button>
            </div>
            <div class="item" data-text="September 2021">
                <button class="showPopup" onclick="displayPopup()">
                    <div class="content">
                        <img src="assets/pics/projects/leaveTheDoorOpen/ldto.jpg" alt="" class="img">
                        <h2 class="contentTitle">Leave the Door Open</h2>
                        <p class="description">A drama film about a vague love story</p>
                    </div>
                </button>
            </div>
        </div>
    </div>


    <!-- Div to display the active image on the right side -->
    <!-- <div id="project_description">
        <div id="project_description_text">
            <div id="image-display">
                <img id="right-image" src="assets/pics/backpic.jpg" alt="Displayed Image">
            </div>
            <h1>Project Description</h1>
            <p id="project_description_content">AIGC redrawing system to transform user-uploaded images into stunning
                Gaudi-style architectural pieces</p>
        </div> 
    </div>
     -->
    <div class="nav_bar">
        <div class="logo">
            <a href="index.html">
                <div id="logo_text2"><span>A</span>ndy</div>
                <div>YeJR</div>
            </a>
        </div>
        <table class="nav_table" width="100%" border="0">
            <tbody>
                <tr>
                    <th class="nav_element" scope="col"><a href="projects.html">Projects</a></th>
                    <th class="nav_element" scope="col"><a href="photos.html">Photos</a></th>
                    <th class="nav_element" scope="col"><a href="index.html">About Me</a></th>
                </tr>
            </tbody>
        </table>
    </div>

    <script src="lightbox/dist/js/lightbox-plus-jquery.js"></script>
    <script src="//unpkg.com/layui@2.9.16/dist/layui.js"></script>
    <script>
        //change the background image of the shell
        (function ($) {
            $.fn.timeline = function () {
                var selectors = {
                    id: $(this),
                    item: $(this).find(".item"),
                    activeClass: "item--active",
                    img: ".img"
                };
                selectors.item.eq(0).addClass(selectors.activeClass);
                selectors.id.css(
                    "background-image",
                    "url(assets/pics/backpic.jpg)"
                );
                var itemLength = selectors.item.length;
                $(window).scroll(function () {
                    var max, min;
                    var pos = $(this).scrollTop() + $(this).height() / 3;
                    selectors.item.each(function (i) {
                        min = $(this).offset().top;
                        max = $(this).height() + $(this).offset().top;
                        var that = $(this);
                        if (i == 0 && pos >= $(this).height() / 1.5 && pos < $(this).height() * 2) {
                            selectors.id.css(
                                "background-image",
                                "url(" +
                                $(this)
                                    .find(selectors.img)
                                    .attr("src") +
                                ")"
                            );
                            selectors.item.removeClass(selectors.activeClass);
                            $(this).addClass(selectors.activeClass);
                        } else if (i == itemLength - 2 && pos > min + $(this).height() / 2) {
                            selectors.item.removeClass(selectors.activeClass);
                            selectors.id.css(
                                "background-image",
                                "url(" +
                                selectors.item.last()
                                    .find(selectors.img)
                                    .attr("src") +
                                ")"
                            );
                            selectors.item.last().addClass(selectors.activeClass);
                        }

                        else if (pos <= max - 10 && pos >= min) {
                            selectors.id.css(
                                "background-image",
                                "url(" +
                                $(this)
                                    .find(selectors.img)
                                    .attr("src") +
                                ")"
                            );
                            selectors.item.removeClass(selectors.activeClass);
                            $(this).addClass(selectors.activeClass);
                        } else if (pos < $(this).height() / 1.5) {
                            selectors.id.css(
                                "background-image",
                                "url(assets/pics/backpic.jpg)"
                            );
                            selectors.item.removeClass(selectors.activeClass);
                        }
                    })
                })
            }
        })(jQuery)

        $("#shell").timeline();


        let popupHTML = '<div>fetch error</div>';

        function displayPopup(targeturl) {
            loadHTML(targeturl).then(() => {
                layui.use(function () {
                    var layer = layui.layer;
                    var util = layui.util;
                    var $ = layui.$;

                    layer.open({
                        type: 1,
                        title: false,
                        offset: 'r',
                        anim: 'slideLeft', // 从右往左
                        area: ['65%', '100%'],
                        shade: 0.000000001,
                        // fixed: true,
                        shadeClose: true,
                        // scrollbar: false,
                        // content: $('#shell'),
                        content: popupHTML,
                        move: false,
                        resize: false,
                        closeBtn: 0,
                    });
                });
            });

        }

        function loadHTML(targeturl) {
            // 使用 fetch 获取 HTML 内容并返回 Promise
            return fetch(targeturl)
                .then(response => {
                    // 检查响应是否成功
                    if (!response.ok) {
                        throw new Error('网络响应失败');
                    }
                    // 将响应转换为文本
                    return response.text();
                })
                .then(htmlString => {
                    // 此处 htmlString 包含了外部 HTML 文件的内容
                    popupHTML = htmlString;
                    return popupHTML;
                })
                .catch(error => {
                    console.error('获取外部 HTML 时出错:', error);
                });
        }

        // layui.use(function () {
        //     var layer = layui.layer;
        //     var util = layui.util;
        //     var $ = layui.$;

        //     // layer.title('Projects', index);
        //     // 事件
        //     util.on('lay-on', {
        //         'popup': function () {
        //             // loadHTML().then(() => {
        //                 layer.open({
        //                     type: 1,
        //                     title: false,
        //                     offset: 'r',
        //                     anim: 'slideLeft', // 从右往左
        //                     area: ['65%', '100%'],
        //                     shade: 0.000000001,
        //                     // fixed: true,
        //                     shadeClose: true,
        //                     // scrollbar: false,
        //                     // content: $('#shell'),
        //                     content: popupHTML,
        //                     move: false,
        //                     resize: false,
        //                     closeBtn: 0,
        //                 });
        //             // });
        //         },
        //     });
        // });
    </script>

</body>

</html>